<div class="app-icon-textarea-container {{fExtraCSS}}"
         [ngClass]="{'has-focus': focused}">
  <label class="app-icon-input-field-label-sm" 
         [ngClass]="{'app-no-icon-label': !fIcon,
                     'has-value': fValue !== undefined && fValue !== '',
                     'has-focus': focused,
                     'app-show-required': fRequired}">
         {{fLabel}}</label>
    <div  class="d-flex flex-row">
      <i *ngIf="fIcon" class="material-icons app-input-icon {{fColor}}">{{fIcon}}</i>
      <textarea name="{{fName}}" ngModel autocomplete="off" rows="{{fRows}}"
        id="{{fName + 'ID'}}"
        [maxlength]="fMaxlength !== undefined ? fMaxlength : undefined"
        [required]="fRequired"
        [disabled]="fDisabled"
        [readonly]="fReadonly"
        [(ngModel)]="fValue" class="app-form-input app-scrollable d-flex" #fRef="ngModel"
        [registerForm]="fForm" [registerModel]="fRef"
        (focus)="showFocused()" (blur)="showNotFocused()" (input)="valueChange(fRef)"></textarea>
    </div>
    <div *ngIf="(fErrors !== undefined) && fErrors.length" 
          class="app-field-messages" [style.visibility]="(fRef.touched || fCheckAll) ? 'visible' : 'hidden'"
          [ngClass]="{'app-no-icon-message': !fIcon}">
      <validation-messages [vField]="fRef" [vMultiple]="fErrorMulti">
        <validation-message *ngFor="let item of aErrors; let i=index"
          name="{{item}}">{{aMsgs[i]}}</validation-message>
      </validation-messages>
    </div>
</div>
